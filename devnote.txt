SEGEMENGE:
NOTE:
    -‚ùå Never name your project after a popular Python package
    (django, celery, rest, requests, redis, flask, fastapi)
ERROR/FIX:

    ERROR:
        -Server Error 500:
            CHECK:
                -Environmental Variables
                -Turn on debug to True for quick efficient Debugging
            SOLUTION:
                -Fix environmental errors e.g naming errors e.g Debug,secret_key,database e.t.c
    ERROR:
        -django.db.utils.OperationalError: no such table: auth_user:
            CHECK:
                -if migrations have been made
            SOLUTION:
                -makemigrations and migrate
                
    ERROR: 
        /bin/ash: No such file or directory:
            PROBLEM:Wrong interpreter
            CHECK:
                if the right shebang shell interpreter was used
            SOLUTION:
                use compatible shebang with python version e.g python:3.12:slim

    ERROR: 
        NoReverseMatch: Reverse for 'send-notification' not found.
            PROBLEM: Django tried to do a reverse("send-notification") (or {% url 'send-notification' %}) but could not find any URL pattern with the name 'send-notification'.:
            CHECK:
                if urls route matches
            SOLUTION:
                fix url route naming error
    ERROR: 
        ValueError: No route found for path 'ws/notifications/'.
            PROBLEM: Django tried to do a reverse("send-notification") (or {% url 'send-notification' %}) but could not find any URL pattern with the name 'send-notification'.:
            CHECK:
                if urls route matches
            SOLUTION:
                fix url route naming error
    ERROR: 
        ValueError: 
            PROBLEM:installing clone project with yarn dev but ran into node version compatibility error
            CHECK:
                if urls route matches
            SOLUTION:
                RUN:
                curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -
                sudo apt install -y nodejs
                npm install -g yarn
                yarn install
                yarn dev
    ERROR: 
        ValueError: ModuleNotFoundError: No module named 'pkg_resources'(DOCKER ERROR)
            PROBLEM: python version in Dockerfile
            CHECK:
                Dockerfile
            SOLUTION:
                ADD:
                    "RUN pip install --upgrade pip setuptools" to docker file or
                EDIT:
                    "FROM python:3.12-slim to python:3.12-slim" to a stable version of python to "FROM python:3.12-slim to python:3.12-slim"
                SUMMARY:
                    Python 3.12 removed pkg_resources; install setuptools or use Python 3.11
                

SNIPPET CODE:
'''
    raw_host=os.environ.get('ALLOWED_HOSTS')

    if raw_host:
        ALLOWED_HOSTS=raw_host.split(',')
    else:
        ALLOWED_HOSTS=["*"]
'''
    NOTE: To set up raw host logic environmental variable must be fetched first before splitting inside the if statement to avoid app crashing

    Your code assumes this is always safe:
    if "os.environ.get("ALLOWED_HOSTS").split(",")" is placed above the if statement without checking for absent or existence
        -But if the env var does not exist:
        -None.split(",")  #  AttributeError

    Python evaluation order:

        os.environ.get('ALLOWED_HOSTS') ‚Üí None

        None.split(',') ‚Üí üí• AttributeError

        Program crashes immediately

        if raw_host: is never reached

        else block is never executed

        üìå This is not a theory. This is guaranteed behavior.

    So your program:

    -crashes
    -never reaches if
    -never reaches else

    Final takeaway (this is the ‚Äúaha moment‚Äù):

    Conditionals must test the thing that can be absent.
    Not the thing you derived from it.

    That‚Äôs why .split() must happen after the existence check.

    

